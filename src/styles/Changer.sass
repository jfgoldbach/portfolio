@use "globals"

$changer_bg: #dce5ff
$sidebarColor: #13222f  //#c3e3ff

$changer_topbar_height: 80px

.login
    @include globals.flexCenter
    flex-direction: column
    gap: 22px
    padding-top: 66px
    height: 100dvh
    @media screen and (max-width: globals.$mobileBreakpoint)
        height: calc(var(--viewportHeight) - globals.$navHeight - 10px)
        padding: 0
        .window
            width: calc(100vw - 20px)
    .window
        width: globals.$loginWidth
        padding: 24px 0
        gap: 12px
        h1
            margin-bottom: 20px
        .tooMany
            @include globals.flexCenter
            animation: warningIn 0.25s forwards
            gap: 3px
            color: globals.$cancel
            min-width: 100px
            max-width: 300px
            i
                font-size: 1.5rem
            p   
                text-align: center
        .submitLogin.guest
        .guestBtnWrapper
            @include globals.flexCenter
            flex-direction: column
            gap: 16px
            width: 100%
            padding: 0 40px
            p
                color: #333
                font-style: italic
    form
        position: relative
        padding: 0 40px
        gap: 10px
        width: globals.$loginWidth
        @keyframes warningIn
            from
                height: 0
            to
                height: 25px
        &.fetching
            .input-container,
            .submitLogin
                opacity: 0 !important
                pointer-events: none
        .submitLogin
            margin-top: 15px
            position: relative
            &.loading
                pointer-events: none
        &.inactive
            $color: #888
            label,
            i
                color: $color !important
            button
                background: $color
                opacity: 1 !important
            input
                border-color: $color
        .input-container
            position: relative
            width: 100%
            @include globals.flexCenter
            flex-direction: column
            gap: 0
            min-height: 44px
            label
                position: absolute
                left: 12px
                bottom: -1px
                line-height: 0.8rem
                padding: 0 3px
                font-size: 0.7rem
                background: #eee
                width: fit-content
                pointer-events: none
                color: #666
                transition: 0.125s
            input:focus
                border-color: transparent
                + label
                    left: 3px
                    bottom: 3px
                    background: none
            input[value=""]
                + label
                    border: none
                    background: none
                    font-size: 1rem
                    left: 5px
                    bottom: 50%
                    transform: translateY(50%)
            input
                width: 100%
                padding: 8px
            &#password
                button
                    color: #222
                    $size: 26px
                    background: none
                    height: $size
                    width: $size
                    position: absolute
                    right: 0
                    border: none
                    font-size: 1rem
                    border-radius: 4px
                    cursor: pointer
                    transition: 0.125s
                    &:hover
                        color: #000
                        background: #ccc
        .warning-message
            @include globals.flexCenter
            gap: 12px
            margin-top: 12px
            font-weight: bold
            color: globals.$cancel
            font-size: 1.1rem
            overflow: hidden
            animation: warningIn 0.25s forwards
    &.failed
        form
            background: red
            color: black
            border: 4px dashed black
            animation: alert 1s infinite
            @keyframes alert
                0%
                    background: #ffdfbd
                50%
                    background: #ff736e
                100%
                    background: #ffdfbd
            p:last-child
                font-weight: bold
    a
        color: rgba(#333, 0.65)
        font-size: 0.9rem
        text-decoration: underline
        transition: 0.08s
        //margin-bottom: 18px
        &:hover
            color: rgba(#333, 1)
    button
        &.wrong
            animation: wrongShake 0.33s
            @keyframes wrongShake
                0%
                    transform: translateX(12px)
                25%
                    transform: translateX(-12px)
                50%
                    transform: translateX(12px)
                75%
                    transform: translateX(-12px)
                100%
                    transform: translateX(0)
    .check-container
        position: absolute
        top: 47%
        left: 50%
        transform: translate(-50%, -50%)
        background: rgba(#555, 0.33)
        border-radius: 12px
        backdrop-filter: blur(4px)
        box-shadow: globals.$shadow1
        @include globals.flexCenter
        height: 120px
        width: 90%
        .fa-check
            @keyframes checkIn
                from
                    font-size: 0.25rem
                to
                    font-size: 2.5rem
            color: green
            animation: checkIn 0.25s forwards

.changer-container
    $navColor: #fff
    $navRadius: 12px
    $navMargin: 6px
    max-height: 100vh
    position: relative
    display: grid
    $sideWidth: 180px
    grid-template-columns: $sideWidth auto
    grid-template-rows: $changer_topbar_height auto
    //background: $changer_bg //linear-gradient($sidebarColor, $sidebarColor 50%, #060e2b 50%, #060e2b,)
    overflow: hidden
    input[type="text"]
        font-weight: normal
        font-size: 1rem
        border: 1px solid #aaa
        border-radius: 4px
        text-align: left
        background: white
        width: fit-content
        min-width: 4rem
    .changer-vertbar
        @include globals.flexCenter
        justify-content: flex-end
        gap: 12px
        padding: 24px
        grid-column-start: 1
        grid-column-end: end
        background: $sidebarColor
        margin: $navMargin $navMargin 0 $navMargin
        border-radius: $navRadius $navRadius $navRadius 0
        position: relative
        box-shadow: globals.$shadow2
        &::before
            position: absolute
            content: ""
            left: $sideWidth - 6px
            top: 100%
            z-index: 100
            height: $navRadius
            width: $navRadius
            background-image: url("./backgrounds/inverse_corner.svg")
            background-size: 100%
            filter: drop-shadow(globals.$shadow2)
        .changer-navigationBottom
            @include globals.flexCenter
            justify-content: space-between
            gap: 8px
            padding: 4px 6px
            margin: 6px
            border-radius: globals.$bordMed
            //background: #4b475b //#060e2b
            .nameContainer
                display: flex
                flex-direction: column
                gap: 2px
                h3
                    font-weight: normal
                    font-size: 1.2rem
                    line-height: 1.1rem
                    color: #fff
                    &.admin
                        color: #5ded00
                    &.guest
                        color: #ffd401
                p
                    font-size: 0.7rem
            button
                @include globals.flexCenter
                $size: 32px
                width: $size
                height: $size
                //background: none
                //color: #fff
                //border: 2px solid rgba(#fff, 0.33)
            .fa-arrow-right-from-bracket
                font-size: 1.25rem
            .countdown
                color: rgba(#fff, 0.5)
                &.warn
                    color: globals.$cancel
                    font-weight: bold

    .changer-sidebar
        @keyframes fromLeft
            from
                transform: translateX(-300px)
            to
                transform: translateX(0)
        @mixin slideToRight
            animation: fromLeft 0.25s
        position: relative
        margin: 0 0 $navMargin $navMargin
        border-radius: 0 0 $navRadius $navRadius
        color: $navColor
        display: flex
        flex-direction: column
        padding-top: 30px
        background: $sidebarColor
        box-shadow: 0 7px 10px rgba(#000 ,0.5)
        direction: rtl
        overflow: visible
        //overflow-y: auto
        $bgColor: rgba(#fff, 0.033)
        height: calc(100vh - $changer_topbar_height - $navMargin)
        *
            direction: ltr
        h2
            @include globals.flexCenter
            @include slideToRight
            justify-content: flex-start
            padding-left: 9px
            gap: 6px
            border-radius: 6px 6px 0 0
            font-size: 1.1rem
            font-weight: 600
            i
                @include globals.flexCenter
                width: 20px
                font-size: 1.15rem
                color: rgba($navColor, 0.65)
        ul
            @include globals.flexCenter
            @include slideToRight
            flex-direction: column
            gap: 0
            padding: 4px 0
            margin-bottom: 40px
            li
                position: relative
                list-style-type: none
                width: 100%
                border-radius: 8px
                margin-left: 58px
                padding: 4px 6px
                transition: 0.2s
                &:hover
                    button
                        color: globals.$active
                &.forbidden
                    pointer-events: none
                    opacity: 0.33
                    button
                        gap: 0
                button
                    padding: 6px 0
                    color: darken($navColor, 10%)
                    background: none
                    font-size: 0.95rem
                    text-align: left
                    box-shadow: none
                    justify-content: flex-start
                    overflow: hidden
                    white-space: nowrap
                    text-overflow: ellipsis !important
                    i
                        margin: 0 4px
                &.active
                    background: #adb6d3
                    /* &::before
                        content: ""
                        position: absolute
                        height: 100%
                        width: 20px
                        left: 100%
                        top: 0
                        background: #dce5ff
                        z-index: 100 */
                    button
                        color: #151515

        h1
            font-size: 1.3rem
            padding: 8px 12px
            $margin: 30px
            margin-top: $margin
            margin-bottom: $margin

    .changer-main
        grid-column-start: 2
        grid-column-end: end
        position: relative
        overflow: auto
        height: calc(100vh - $changer_topbar_height)
        scrollbar-color: lighten(globals.$secondary, 15%) rgba(globals.$secondary, 0.4)
        //scrollbar-width: thin
        margin-right: 8px
        border-radius: 12px
        & > .apSubmitContainer
            position: fixed
            top: 20px
            left: 236px
            background: $sidebarColor
            border-radius: 12px
            padding: 8px
            box-shadow: 0 0 6px $sidebarColor
            /* &::before
                @include globals.pseudoAbs
                $size: 600px
                right: calc((-1 * $size) / 4)
                bottom: calc((-1 * $size) / 1.75)
                width: $size
                height: $size
                border-radius: 50%
                background-image: radial-gradient(rgba(globals.$active, 0.6) 25%, transparent 60%)
                opacity: 0
                transition: 0.25s
                pointer-events: none */
            &.active::before
                opacity: 1
            .apSubmitBox
                @include globals.flexCenter
                z-index: 100
                gap: 18px
                transition: 0.1s
                &.active
                    opacity: 1
                    .submitBtn
                        background: lighten(green, 50%)
                        color: darken(green, 10%)
                        &:hover
                            color: lighten(green, 50%)
                            background: darken(green, 10%)
                        &.forbidden
                            background: globals.$cancel
                            &:hover
                                color: #444
                button
                    @include globals.flexCenter
                    gap: 8px
                    font-size: 1rem
                    &.submitBtn
                        position: relative
                        font-weight: bold
                        position: relative
                        margin-right: 24px
                        p
                            i
                                margin-left: 6px
                        &.saving
                            background: #444
                            pointer-events: none
                            .submitCounter,
                            p
                                opacity: 0
                        &.forbidden
                            //pointer-events: none
                            color: #444
                            cursor: not-allowed !important
                            &:hover
                                box-shadow: none
                            .submitCounter
                                background: red
                        .submitCounter
                            @include globals.flexCenter
                            $size: 22px
                            height: $size
                            min-width: $size
                            position: absolute
                            top: 0
                            right: 0
                            border-radius: calc($size / 2)
                            background: green
                            transform: translate(33%, -33%)
                            color: #fff
                            padding: 3px
                            box-shadow: globals.$shadow2
                            p
                                font-size: 0.9rem
        .apContent
            position: relative
            @include globals.flexCenter
            justify-content: flex-start
            align-items: flex-start
            flex-wrap: wrap
            padding: 40px 64px
            gap: 32px
            min-height: 100%
            margin: 0
            padding-bottom: 75px
            .info-container.mildWarn.fetchError
                margin: auto
            .apcSection //= admin panel content
                @include globals.flexCenter
                align-items: flex-start
                position: relative //necessary for the ChangeFlag
                border-radius: 12px
                opacity: 0
                padding: 12px
                background-color: lighten($changer_bg, 80%)
                width: 100%
                box-shadow: globals.$shadow
                outline: 3px solid transparent
                transition: outline 0.2s              
                flex-wrap: wrap
                &.changed
                    outline: 2px solid green
                    box-shadow: 0 0 10px limegreen
                &.apcInfo
                    @include globals.flexCenter
                    justify-content: flex-start
                    background: none
                    box-shadow: none
                    padding: 0
                    width: 100%
                    .content
                        @include globals.flexCenter
                        gap: 12px
                        border-radius: 12px
                        align-items: center
                        justify-content: space-between
                        width: unset
                        padding: 8px
                        background: rgba(globals.$active, 0.5)
                        box-shadow: globals.$shadow
                        border-color: rgba(globals.$secondary, 0.75)
                        color: rgba(globals.$secondary, 0.85)
                        .fa-solid.fa-circle-info
                            font-size: 2rem
                        button
                            padding: 6px 12px
                &.apcSkills
                    flex-direction: column
                    //overflow: auto
                    .skillsContainer
                        display: flex
                        flex-direction: column
                        width: 100%
                        padding: 12px
                        gap: 12px
                        & > button
                            @include globals.flexCenter
                            width: fit-content
                            $size: 30px
                            width: $size
                            height: $size
                            padding: 0
                            box-shadow: globals.$shadow
                        .skillWrapper
                            position: relative
                            display: flex
                            //overflow: auto
                            justify-content: space-between
                            //padding: 2px
                            gap: 10px
                            //border-radius: 8px
                            &.changes
                                outline: none
                                &::before
                                    @include globals.pseudoAbs
                                    left: -8px
                                    width: 4px
                                    height: 100%
                                    background: green
                            button
                                box-shadow: globals.$shadow
                                padding: 5px 8px
                                &.deleteBtn,
                                &.changedBtn
                                    @include globals.flexCenter
                                    width: 30px
                            .addContainer
                                @include globals.flexCenter
                                gap: 4px
                                background: rgba(#000, 0.33)
                                padding: 2px 4px
                                color: white
                                border-radius: 6px
                                box-shadow: globals.$shadow
                                margin-left: auto
                                /* input[type="text"]
                                    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif
                                    font-weight: bold
                                    border: none
                                    text-align: center
                                    width: fit-content
                                    min-width: 4rem */
                                .colorContainer
                                    display: flex
                                    flex-direction: column
                                    gap: 2px
                                    label
                                        @include globals.flexCenter
                                        justify-content: flex-end
                                        font-size: 0.65rem
                                        gap: 2px
                                        input[type="color"]
                                            $size: 15px
                                            height: $size
                                            width: $size
                                label.presetSelector
                                    @include globals.flexCenter
                                    font-size: 0.65rem
                                    flex-direction: column
                                button
                                    @include globals.flexCenter
                                    font-weight: bold
                                    width: 25px
                            .skillContainer
                                position: relative
                                &:hover
                                    .deleteBtn
                                        opacity: 1
                                .deleteBtn
                                    width: 27px
                                    height: 27px
                                    opacity: 0
                                    position: absolute
                                    border-radius: 50%
                                    border: none
                                    color: black
                                    background: globals.$cancel
                                    font-size: 0.9rem
                                    top: -5px
                                    right: -5px
                                    transition: all 0.1s border 0s
                                    &:hover
                                        //border: 1px solid black
                                        //top: -6px
                                        color: globals.$cancel
                                        background: darken(globals.$cancel, 60%)
                            
                    h3
                        font-size: 1rem
                        margin-top: 16px
                        font-weight: normal

                &.apcNotes
                    display: flex
                    flex-direction: column
                    button.resetBtn
                        @include globals.flexCenter
                        margin-left: auto
                        $size: 33px
                        height: $size
                        width: $size
                        padding: 0
                    label
                        display: flex
                        flex-direction: column
                        font-size: 0.7rem
                    .notesContainer
                        display: flex
                        flex-direction: column
                        padding: 12px
                        gap: 8px
                        width: 100%
                        height: fit-content
                        .dragobj
                            background: rgba(#000, 0.125)
                            border: 1px solid #888
                            display: flex
                            border-radius: 12px
                            align-items: center
                            gap: 12px
                            cursor: move
                            height: 165px
                            padding-right: 4px
                            h3
                                @include globals.flexCenter
                                font-weight: normal
                                color: white
                                background: rgba(#000, 0.8)
                                height: 50px
                                padding: 5px
                                border-radius: 0 12px 12px 0
                                box-shadow: globals.$shadow
                            .imgContainer
                                $width: 200px
                                width: $width
                                height: $width * 0.5625
                                aspect-ratio: 16/9
                            .textContainer
                                display: flex
                                flex-direction: column
                                justify-content: space-between
                                gap: 6px
                                label
                                    h4
                                        font-weight: normal
                                        display: flex
                                        gap: 4px
                                
                            .descrContainer
                                display: flex
                                flex-direction: column
                                padding: 4px 8px
                                width: 100%
                                height: 100%
                                h4
                                    font-weight: normal
                                .describtions
                                    display: flex
                                    justify-content: space-between
                                    gap: 4px
                                    height: 100%
                                    textarea
                                        height: 100%
                                label
                                    display: flex
                                    width: 100%
                                    flex-direction: column


                h2
                    display: flex
                    align-items: center
                    gap: 5px
                    align-self: flex-start
                    font-size: 1.125rem
                    line-height: 1.125rem
                    color: #151515
                    width: 100%
                    text-shadow: globals.$shadow
                    transition: 0.125s
                    text-transform: capitalize
                    &.changes
                        color: green
                        i
                            color: green
                    .fa-pen
                        color: black //rgba(#fff, 0.85)

    .logoutInfo
        @include globals.flexCenter
        position: absolute
        backdrop-filter: blur(12px)
        background: rgba(#000, 0.5)
        z-index: 1000
        width: 100%
        height: 100%
        p
            font-size: 1.25rem
            margin-bottom: 95px
            color: #fff
            text-shadow: globals.$shadow2


input.changed
    outline: 2px limegreen !important

@mixin flagSmall
    background-size: 100%
    width: 20px
    height: 10px
    border-radius: 4px
    margin: 2px 0
    box-shadow: globals.$shadow2
    opacity: 0.85

.flag_ger
    @include flagSmall
    background-image: url("./backgrounds/germany.svg.webp")
    background-size: 90%

.flag_eng
    @include flagSmall
    background-image: url("./backgrounds/uk.svg.webp")

@keyframes flyIn
    from
        transform: translateY(-25px)
        opacity: 0
    to
        transform: translateY(0)
        opacity: 1

.AP-main-container
    @include globals.flexCenter
    flex-direction: column
    gap: 22px
    padding: 32px

    @mixin twoLangs
        width: 100%
        display: grid
        grid-template-columns: 1fr [eng] 6fr [ger] 6fr
    section
        opacity: 0
        animation: flyIn 0.33s forwards
        display: flex
        border-radius: 12px
        flex-direction: column
        align-items: flex-start
        width: 100%
        gap: 12px
        padding: 6px
        box-shadow: globals.$shadow inset
        overflow: hidden
    @for $i from 0 to 10
        section:nth-child(#{$i})
            animation-delay: $i * 0.0625s
    .twoLangs-top
        @include twoLangs
    h2
        background: #dce5ff
        transform: translate(-6px, -6px)
        box-shadow: globals.$shadow
        font-weight: normal
        text-align: center
        padding: 6px 12px
        border-bottom-right-radius: 12px
    h3
        background-size: 100%
        width: 60px
        aspect-ratio: 2/1
        border-radius: 6px
        box-shadow: globals.$shadow
        margin: auto
        &.eng
            grid-column-start: eng
            background-image: url("./backgrounds/uk.svg.webp")
        &.ger
            grid-column-start: ger
            background-image: url("./backgrounds/germany.svg.webp")
            background-size: 90%
    .twoLangs-content
        @include twoLangs
        padding: 6px
        gap: 12px
        p
            @include globals.flexCenter
            width: 100%
            height: 100%
        textarea
            resize: none
            padding: 5px
            border-radius: 6px
            min-height: 2rem
            border: 1px solid grey
            width: 95%
            margin: auto
            box-shadow: globals.$shadow
    .one-content
        padding: 6px
        gap: 12px
        width: 100%
        display: grid
        grid-template-columns: 1fr 12fr
        p
            @include globals.flexCenter
            width: 100%
            height: 100%
    .twoPure-content
        width: 100%
        display: grid
        grid-template-columns: 1fr 1fr
        gap: 12px

label.credentials
    width: 100%
    display: flex
    flex-direction: column
    justify-content: flex-start
    gap: 3px
    input
        background: #fff
        border: 1px solid grey
        box-shadow: globals.$shadow

.apcSection
    .category-container
        border-radius: 8px
        transition: 0.125s
        background: rgba(#000, 0.125)
        width: 100%
        min-height: 37px
        //flex-wrap: nowrap
        .warnContainer
            height: 37px
            padding: 8px
            @include globals.flexCenter
            .fa-triangle-exclamation
                color: globals.$cancel
                font-size: 1.5rem
    &.changes
        background: rgba(#000, 0.06)


.changeFlag
    @include globals.flexCenter
    position: absolute
    right: 100%
    top: 12px
    $size: 38px
    width: 0
    overflow: hidden
    height: $size
    border-radius: 12px 0 0 12px
    background: limegreen
    color: #151515
    font-size: 1.15rem
    box-shadow: -3px 3px 10px rgba(#000, 0.33), -3px 0 5px -2px rgba(#000, 0.25) inset
    transition: 0.2s
    &.active
        width: 30px