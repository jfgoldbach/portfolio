@use 'globals'

@keyframes rollTop
    0%
        opacity: 0
        transform: translateY(-3vh)

    100%
        opacity: 1
        transform: translateY(0)

/*Main container*/
.carousel-container
    display: flex
    flex-direction: column
    align-items: center
    justify-content: flex-start
    height: 38.5vw
    height: 80vh //calc(var(--mobileInnerWidth) - $navHeight - 20px)
    background: none
    &::before
        position: absolute
        bottom: 100%
        content: ""
        width: 100vw
        height: calc(globals.$navHeight + 10px)
        background-color: #203e69
        z-index: 4

/*.img-container figure
 animation: divIn 1s /*fade in the loaded carousel cards */

.greeting-container
    align-self: center
    display: flex
    align-items: center
    flex-grow: 1
    pointer-events: all

.greeting
    font-size: 2rem
    color: rgb(38, 32, 72)
    background-color: rgba(255,255,255, 0.65)
    box-shadow: 0 0 10px rgba(0,0,0,0.33)
    padding: 15px 25px
    border-radius: 16px

.carousel-container .fetchError
    min-width: 100%

.projectLink
    position: absolute
    height: 20vw
    width: 35vw
    right: 0
    //transform: translateX(-50%)
    //top: calc(13.5vw + globals.$navHeight)
    z-index: 10
    color: white
    display: flex
    justify-content: center
    text-decoration: none
    i
        background-color: #151515 //rgba(0,0,0,0.825)
        //backdrop-filter: blur(12px)
        padding: 10px
        border-radius: 50%
        display: flex
        align-items: center
        aspect-ratio: 1/1
        //border: 1px solid white
        transition: 0.15s
        opacity: 0
    &:hover
        i
            transition: 0.25s
            padding: 30px
            opacity: 1
            shadow: globals.$shadow

/*Settings*/
.slider-label
    cursor: pointer
    p
        pointer-events: none //to prevent closing when clicking on it

.carouSet-btn
    font-size: 1.125rem
    //padding: 0.25vw 1vw
    $size: 30px
    width: $size
    height: $size
    border: none
    border-radius: 8px
    background-color: white
    cursor: pointer
    transition: 0.15s
    z-index: 15
    opacity: 0.65
    box-shadow: globals.$btnShadowSmall
    pointer-events: all
    margin-left: 6px //so that the icons to its left are alignes with equal spacing

.settings-active
    border-radius: 8px 8px 0 0
    opacity: 1
    //border-top: 1px solid grey
    box-shadow: 0 -10px 15px -15px black inset, globals.$btnShadowSmall

    .fa-solid.fa-gear
        rotate: 180deg
        transition: 0.5s

.fa-solid.fa-gear
    color: black
    transition: 0.5s
    pointer-events: none

.carouSet-btn:hover
    opacity: 1
    transition: 0.2s

.setbtn-container
    //width: 40vw
    //height: 25.5vw
    position: relative
    display: flex
    justify-content: flex-end
    align-items: flex-start
    //flex-direction: column
    @include globals.flexCenter
    z-index: 200
    pointer-events: none
    width: 100%
    .progress-container
        //outline: 2px dashed red
        margin: 0 6px
        //opacity: 0
        height: 0
        opacity: 0
        margin-top: 26px
        transition: 0.2s
        &.active
            margin-top: 0
            height: 26px
            opacity: 1
        svg.progressAnim
            @include globals.flexCenter
            circle.track
                fill: none
                stroke: rgba(#ffffff, 0.25)
            circle.progress
              fill: none
              //stroke-dasharray: 1px, 200px
              //stroke-dashoffset: -60px
              stroke: rgba(#00e1ff, 0.9)
              stroke-linecap: round
              &.anim
                animation: progressAnim 3s linear infinite
                @keyframes progressAnim
                  0%
                      stroke-dasharray: 1px, 200px
                      stroke-dashoffset: -60px
                  100%
                      stroke-dasharray: 80px, 200px
                      stroke-dashoffset: 0
    h3
        font-weight: normal
        font-size: 0.8rem
        margin-right: auto
        margin-top: auto
        color: rgba(white, 60%)
        opacity: 0
        transition: 0.2s
    .fa-video-slash,
    .fa-stop
        color: white
        opacity: 0.75
        font-size: 1.25rem
        transition: 0.2s
        //animation: globals.rollTop 0.25s
    i.vidIco
        $size: 22px
        width: 0
        opacity: 0
        height: $size
        @include globals.flexCenter
        margin: 0
        pointer-events: none
        //outline: 2px dashed red
        &.active
            width: $size
            opacity: 1
            margin: 0 6px

.setbtn-container .settings-form
    display: none
    position: absolute
    top: 100%
    right: 0
    align-items: flex-start
    justify-content: space-between
    gap: 35px
    z-index: 200
    background-color: white
    flex-direction: column
    padding: 20px
    border-radius: 8px 0 8px 8px
    box-shadow: -5px 5px 15px -5px rgba(0, 0, 0, 0.45)
    pointer-events: all
    label
        display: flex
        justify-content: space-between
        gap: 15px
        width: 100%

.showSettings
    display: flex !important

input
    justify-self: flex-end

.form-slider
    width: 100%
    display: flex
    flex-direction: column
    animation: none

@keyframes rotateFull
    0%
        transform: rotate(0)
    100%
        transform: rotate(360deg)

/*if carousel is not active*/
.blackwhite
    filter: grayscale(100%)

@keyframes wave2
    from
        background-position-x: 0
    to
        background-position-x: 265%

@keyframes waving
    from
        background-position-x: 0
    to
        background-position-x: 200%

/*Headings*/
.introduction
    display: flex
    flex-direction: column
    justify-content: flex-start
    //padding-top: 2vw
    align-items: center
    height: 8vw
    width: 100%
    //background-color: red
    background-image: url("./backgrounds/wave-haikei.png")
    background-repeat: repeat-x
    background-size: 200%
    background-position-y: -62vw
    animation: waving 50s linear infinite
    pointer-events: none
    z-index: 10
    &::after
        display: block //block
        position: absolute
        content: ''
        width: 100%
        height: 7vw
        top: 0
        background-image: url("./backgrounds/wave-haikei.png")
        background-size: 160%
        background-position-y: 7vw
        //background-color: red
        animation: wave2 37s infinite linear reverse
        z-index: -1


.hero-main
    display: flex
    justify-content: space-between
    //outline: 2px dotted red
    height: 57vh
    width: calc(100% - (2 * globals.$navMargin))
    z-index: 100
    margin: auto
    //margin: globals.$navMargin 0
    &.intro
        .presentation
            cursor: pointer
            width: 50%
            margin-left: 25%
            transition: 0.2s
            h1
                font-size: 3.5rem
            h2
                font-size: 2rem
                animation-delay: 1.5s
                animation: rollTop 1s
            .friendlyWave
                right: 106%
                top: calc(50% - 45px)
                img
                    width: 80px !important
        .project-previews
            width: 0 !important
            opacity: 0
            transition: 0.2s
            pointer-events: none
    .presentation
        @include globals.flexCenter
        flex-direction: column
        align-items: flex-start
        justify-content: flex-end
        position: relative
        padding: 5px
        margin-left: 0
        width: 25vw
        min-width: 250px
        //outline: 2px dashed orange
        color: white
        //text-shadow: 0 0 30px rgba(black, 40%)
        transition: 0.2s
        .friendlyWave
            @keyframes handWave
                0%
                    rotate: -45deg
                    filter: blur(0)
                10%
                    filter: blur(0.75px)
                50%
                    rotate: 45deg
                    filter: blur(0)
                60%
                    filter: blur(0.75px)
                100%
                    rotate: -45deg
                    filter: blur(0)
            
            position: absolute
            right: 102.5%
            cursor: pointer
            //outline: 2px dashed red
            top: calc(50% - 40px)
            transition: 0.2s
            &.active
                animation: handWave 1.75s infinite
            &:not(.active) .hand
                opacity: 0
                @keyframes waveGoodbye
                    33%
                        opacity: 0
                        rotate: -45deg
                    40%
                        opacity: 1
                    66%
                        rotate:45deg
                    80%
                        opacity: 1
                    100%
                        rotate: -45deg
                        opacity: 0
                        rotate: 0
                animation: waveGoodbye 2s forwards

            img
                width: 40px
                transform: translate(10%, -25%)
            .thumb
                @keyframes thumbOk
                    0%
                        translate: 0
                    45%
                        translate: 0 -2.5vh
                    90%
                        translate: 0
                        opacity: 1
                    100% 
                        opacity: 0
                animation: thumbOk 0.66s forwards
                position: absolute
                left: 0
        h1
            font-size: 2.5rem
            transition: 0.2s
        h2
            font-weight: normal
            font-size: 1.25rem
            transition: 0.2s
            //color: #333
        .scrollHint
            height: 40%
            width: 100%
            @include globals.flexCenter
            opacity: 0
            transition: 0.2s
            pointer-events: none
            &.active
                opacity: 1
                pointer-events: all
            .scrollHint-Wrapper
                cursor: pointer
                @include globals.flexCenter
                //outline: 2px dashed red
                flex-direction: column
                gap: 5px
                .fa-computer-mouse
                    font-size: 2rem
                    @keyframes mouseHint
                        0%
                            transform: translate(0,0)
                        30%
                           transform: translate(0,2rem) 
                        75%
                            transform: translate(0,0)
                    animation: mouseHint 2s infinite
                .fa-arrow-down
                    font-size: 1.5rem
                    @keyframes arrowHint
                        0%
                            opacity: 1
                        10%
                           opacity: 0
                        55%
                            opacity: 0
                        75%
                            opacity: 1
                    animation: arrowHint 2s infinite

    .project-previews
        @include globals.flexCenter
        flex-direction: column
        align-items: flex-end
        gap: 12px
        width: 35vw
        opacity: 1
        transition: 0.2s
        .img-container
            position: relative
            //outline: 2px dotted blue
            height: 100%
            width: 40vw
        &:hover
            h3
                opacity: 1


.title
    position: relative
    font-size: 3.5rem
    //text-align: center
    color: rgb(230, 230, 255)
    color: transparent
    background-image: linear-gradient(45deg, #ff90d8, rgb(54, 235, 255))
    background-size: 400%
    animation: titleAnim 5s infinite alternate
    background-clip: text
    //padding: 5px
    background-color: rgba(32, 62, 105, 0.5)
    border-radius: 8px
    /*font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif*/
    &::after
        position: absolute
        left: 0 //5px
        top: 0 //5px
        content: attr(data-title)
        background-image: linear-gradient(45deg,#ff7ace, rgb(138, 243, 255))
        background-size: 400%
        animation: titleAnim 5s infinite alternate
        background-clip: text
        filter: blur(8px)
        z-index: 10
        width: 100%
        //white-space: nowrap

@keyframes titleAnim
    from
        background-position-x: 0
    to
        background-position-x: 100%

h2.describtion
    position: relative
    font-size: 1.3rem
    white-space: 0rem
    font-weight: normal
    text-align: center
    color: red
    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace
    /*font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif*/
    z-index: 10
    -webkit-text-stroke: 4px globals.$secondary
    &::before
        -webkit-text-stroke-width: 0
        z-index: 0
        content: attr(data-shadow)
        position: absolute
        font-weight: 100
        font-size: 1.3rem
        top: 0
        left: 0
        color: rgb(168, 168, 233)

/*Video*/
.img-container video
    position: inherit
    top: 0
    left: 0
    border-radius: 12px
    z-index: 10
    width: 100%
    height: 100%
    border: none
    display: none

.img-container .img-front video
    display: block

.display-none
    display: none !important

/*Figure element for embedding the image/video. after & before selectors for decoration*/
figure
    display: flex
    border-radius: 12px
    position: absolute
    transition: 1s ease-in-out
    cursor: pointer
    background-color: rgb(155, 187, 255)
    z-index: 20

figure::after
    content: attr(data-title)
    position: absolute
    bottom: 0
    background: rgba(120,120,120,0.4)
    padding: 10px 30px
    border-radius: 1000px
    text-align: center
    font-weight: bold
    color: white
    border: 1px solid rgba(222, 222, 222, 0.5)
    box-shadow: 0 -10px 20px -5px rgba(0,0,0,0.25)
    z-index: 10
    backdrop-filter: blur(6px)

/*Images*/
.img-container img
    width: 100%
    aspect-ratio: 128/72
    border-radius: 12px
    box-shadow: rgba(0, 0, 0, 0.75) 0px 60px 35px -40px
    transition: 0.5s

img::selection
    background-color: none

/*Front image*/
/* .img-front
    width: 30vw
    left: 50%
    transform: translateX(-50%)
    top: calc(13.5vw + globals.$navHeight)
    z-index: 5
    transition: 1.1s*/

/* .img-front::after
    left: 50%
    transform: translateX(-50%) translateY(calc(50% - 4px))
    min-width: 1%
    transition: 1s  */

/*          Screen adjust           */
@media screen and (max-width: globals.$mobileBreakpoint)
    .carouSet-btn:hover .fa-solid.fa-gear
        animation: none

    .carouSet-btn:active .fa-solid.fa-gear
        rotate: 270deg

    .projectLink
        width: 85vw
        height: 50vw
        left: 7.5vw
        top: calc(69vw + globals.$navHeight)
        transform: translateZ(-3px)
        border-radius: 16px

    .projectLink:hover
        opacity: 0

    .setbtn-container
        /*display: none*/
        height: 100%
        width: globals.$mobileInnerWidth
        background-color: red
        width: 0
        align-self: flex-start
        margin-left: 5vw
        transform: translateZ(15px) /*For Safari*/

    .carouSet-btn
        padding: 8px 10px
        margin-bottom: 20px

    .settings-form
        width: 75vw
        font-size: 1.125rem

    .settings-form input[type="checkbox"]
        width: 20px

    .introduction
        gap: 8px
        padding: 0
        $height: calc(var(--initialHeight) / 3)
        height: $height
        background-image: url("./backgrounds/wave-haikei-mobile.png")
        background-size: 400%
        background-position-y: calc(var(--initialHeight) * -0.6) //-100vw
        animation-name: wavesMobile
        animation-duration: 100s
        z-index: 4
        &::after
            position: absolute
            content: ''
            width: 100%
            height: 50vh
            top: 0
            background-image: url("./backgrounds/wave-haikei-mobile.png")
            background-size: 300%
            background-position-y: calc(var(--initialHeight) * -0.28) //20vw
            background-repeat: repeat-x
            animation-name: wave2Mobile
            animation-duration: 67s
            z-index: -1
        h1.title
            padding: 0
            font-size: 2.4rem
            &::after
                top: 0
                left: 0

    @keyframes wavesMobile
        from
            background-position-x: 0
        to
            background-position-x: 400%

    /*Second Wave*/

    @keyframes wave2Mobile
        from
            background-position-x: 0
        to
            background-position-x: 300%

    h2.describtion
        font-size: 0.9rem
        text-align: center
        padding: 0 10px
        &::before
            font-size: 0.9rem

    .carousel-container img:hover
        box-shadow: rgba(0, 0, 0, 0.45) 0px 40px 20px -20px

    .carousel-container
        height: 150vw
        height: calc(var(--initialHeight) - globals.$navHeight - 20px - 50px)
        &::before
            height: 5vw

.img-containerF
    z-index: 20