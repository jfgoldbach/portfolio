@use "globals"

.webdev-container,
.gamedev-container,
.modelViewer-container
    display: flex
    align-items: center
    justify-content: center
    min-height: calc(100vh - globals.$navHeight - 10px)
        

.wire-container
    position: absolute
    top: -100px
    width: 100vw
    height: 100vh
    background-color: globals.$gamedevBg
    z-index: -1

.gamedev-container
    position: relative
    .wire-container
        top: 0
        position: fixed
    .polygon-canvas
        animation: fadeIn 0.66s

@mixin viewerContainer
    overflow: hidden
    position: relative
    background-color: #080808
    border-radius: 12px
    border: 2px solid #444
    height: 100%
    box-shadow: 0 0 15px rgba(#000, 0.8)
    .viewer-label
        pointer-events: none
        z-index: 50
        display: flex
        padding: 3px 5px
        position: absolute
        left: 0
        top: 0
        gap: 4px
        border: 1px solid #444
        border-width: 0 1px 1px 0
        border-bottom-right-radius: 6px
        background: #252525
        color: #999
        font-size: 0.85rem
        i
            color: #ddd
            font-size: 1rem

.modelViewer-container
    position: relative
    display: flex
    align-items: flex-start
    background-color: globals.$gamedevBg
    &::before
        position: absolute
        content: ""
        width: 100%
        height: 256px
        top: -256px
        background: globals.$gamedevBg
    &::after
        position: absolute
        content: ""
        width: 100%
        height: 32px
        bottom: -32px
        background: globals.$gamedevBg
    .content-wrapper
        font-family: Arial, Helvetica, sans-serif
        width: 100%
        padding: 25px
        //background: red
        height: calc(100vh - globals.$navHeight - 10px)
        display: grid
        grid-template-columns: 4fr 3fr
        grid-template-rows: 7fr 1fr
        gap: 10px
        .contentBrowser
            @include viewerContainer
            position: relative
            height: 100%
            justify-items: center
            justify-content: space-between
            gap: 15px
            flex-wrap: wrap
            .info-container
                position: absolute
                top: 50%
                left: 50%
                transform: translate(-50%, -50%)
                width: fit-content
            .cardContainer
                display: flex
                justify-content: space-between
                align-items: flex-start
                flex-wrap: wrap
                width: 100%
                padding: 10px
                max-height: 100%
                padding-top: 30px
                gap: 12px
                overflow-y: auto
            .meshCard
                display: flex
                flex-direction: column
                width: fit-content
                border-radius: 8px
                border: 2px solid transparent
                transition: 0.125s
                cursor: pointer
                animation: flyIn 0.25s forwards
                opacity: 0
                @keyframes flyIn
                    from
                        transform: translateY(-75px)
                        opacity: 0
                    to
                        transform: translateY(0)
                        opacity: 1
                @media screen and (min-width: globals.$mobileBreakpoint)
                    &:hover
                        border-color: lightblue
                        background-color: rgba(#aaa, 0.1)
                .img-container
                    position: relative
                    $size: 138px
                    width: $size
                    height: $size
                    background: linear-gradient(5deg, white -25%, skyblue, steelblue)
                    margin: 6px
                    border-radius: 4px
                    overflow: hidden
                    img
                        width: 100%
                        height: 100%
                    p
                        position: absolute
                        bottom: 0
                        left: 0
                        padding: 1px 2px
                        font-size: 0.6rem
                        background: rgba(#555, 0.33)
                        color: #222
                        width: 100%
                .title-container
                    position: relative
                    max-width: 150px
                    height: 1.25rem
                    overflow-x: hidden
                    overflow-y: visible
                    h2
                        position: absolute
                        bottom: 0
                        left: 50%
                        white-space: nowrap
                        transform: translateX(-50%)
                        font-weight: normal
                        font-size: 1.25rem
                        text-align: center
                        color: #eee
                        &.scrolling
                            left: 0
                            transform: translateX(6px)
        .canvas-wrapper
            @include viewerContainer
            padding: 0
            overflow: hidden !important
            position: relative
            grid-row-start: 1
            grid-row-end: 3
            height: 100%
            .viewCanvas
                cursor: grab
                z-index: 10
                &:active
                    cursor: grabbing
                .pickHint
                    width: 250px
                    text-align: center
                    transform: translate(-50%, -50%)
                    border-radius: 16px
                    background: #fff
                    padding: 5px 10px
                    border: 2px solid #333
            .gizmoCanvas
                position: absolute !important
                left: 0
                bottom: 0
                width: 150px !important
                height: 150px !important
                z-index: 10
        .viewerSettings
            @include viewerContainer
            padding: 10px
            padding-top: 30px
            background: #020202
            color: white
            button
                padding: 1px 6px
            label
                display: flex
                align-items: center
                justify-content: space-between
                gap: 5px
                .inputContainer
                    @include globals.flexCenter
                    gap: 5px

@media screen and (max-width: globals.$mobileBreakpoint)
    .webdev-container,
    .gamedev-container
        justify-content: flex-start
        align-items: flex-start

    .modelViewer-container
        .content-wrapper
            $browserHeight: 175px
            $availSpace: calc(100dvh - globals.$navHeight - 30px - $browserHeight)
            grid-template-columns: 1fr
            grid-template-rows: $availSpace $browserHeight auto 
            height: fit-content
            padding: 10px
            padding-top: 0
            padding-bottom: 64px
            gap: 0
            .canvas-wrapper
                grid-row-start: unset
                grid-row-end: unset
                border-bottom-left-radius: 0
                border-bottom-right-radius: 0
            .contentBrowser
                @include globals.flexCenter
                justify-content: flex-start
                flex-wrap: nowrap
                overflow: auto
                min-height: 150px
                border-top-left-radius: 0
                border-top-right-radius: 0
                border-top: none
                @mixin sideGlow
                    //animation: globals.divIn 0.25s
                    content: ""
                    position: absolute
                    z-index: 10
                    bottom: 0
                    width: 30px
                    height: 100%
                    pointer-events: none
                    opacity: 0
                    transition: 0.25s
                &::before
                    @include sideGlow
                    right: 0
                    background-image: linear-gradient(270deg, globals.$active -20%, transparent)
                &.right::before
                    opacity: 1
                &::after
                    @include sideGlow
                    left: 0
                    background-image: linear-gradient(90deg, globals.$active -20%, transparent)
                &.left::after
                    opacity: 1
                .cardContainer
                    height: 100%
                    overflow-y: hidden
                    flex-wrap: nowrap
            .viewerSettings
                margin-top: 10px

    .meshCard
        .img-container
            background-image: none
            $size: 90px
            width: $size !important
            height: $size !important
        .title-container
            max-width: 102px !important
            h2
